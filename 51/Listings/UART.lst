C51 COMPILER V9.54   UART                                                                  05/22/2023 19:32:53 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\Objects\UART.obj
COMPILER INVOKED BY: D:\keil51\C51\BIN\C51.EXE UART.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\UART.
                    -lst) TABS(2) OBJECT(.\Objects\UART.obj)

line level    source

   1          
   2          /**
   3           * @FilePath     : /stm32_code/51/UART.c
   4           * @Description  :
   5           * @Author       : isikveren lauxunzi@outlook.com
   6           * @Version      : 0.0.1
   7           * @LastEditors  : isikveren lauxunzi@outlook.com
   8           * @LastEditTime : 2023-05-22 19:32:33
   9           * @Copyright    : G AUTOMOBILE RESEARCH INSTITUTE CO.,LTD Copyright (c) 2023.
  10           **/
  11          
  12          #include <REGX52.h>
  13          
  14          /**
  15           * @brief        : 串口初始化，4800bps@12.000MHz
  16           * @retval       :无
  17           **/
  18          void UART_Init() // 4800bps@12.000MHz
  19          {
  20   1          SCON = 0x40; // Serial Control
  21   1          PCON |= 0x80;
  22   1          TMOD &= 0x0f;
  23   1          TMOD |= 0x20; // 设置定时器模式
  24   1          TL1 = 0xF3;   // 设置定时初始值
  25   1          TH1 = 0xF3;   // 设置定时初始值
  26   1          ET1 = 0;      // 禁止定时器中断
  27   1          TR1 = 1;      // 定时器1开始计时
  28   1      }
  29          
  30          /**
  31           * @brief        : 串口发送一个字节数据
  32           * @param         {unsigned char} Byte:要发送的一个字节数据
  33           * @retval       :无
  34           **/
  35          
  36          void UART_SendByte(unsigned char Byte)
  37          {
  38   1          SBUF = Byte;
  39   1          while (TI == 0) // TI不为0时结束
  40   1              ;
  41   1          TI = 0; // TI复位
  42   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     31    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
